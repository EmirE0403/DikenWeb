!function(e){e.DikenWeb=e.DikenWeb||{},e.DikenWeb.DikenWebError=class extends Error{constructor(e,r="DIKENWEB_ERROR"){super(e),this.name="DikenWebError",this.code=r}},e.DikenWeb.WebGLNotSupportedError=class extends e.DikenWeb.DikenWebError{constructor(){super("WebGL tarayıcınız tarafından desteklenmiyor","WEBGL_NOT_SUPPORTED")}},e.DikenWeb.Core=class{constructor(r){if(!r)throw new e.DikenWeb.DikenWebError("Canvas elementi gereklidir","CANVAS_REQUIRED");this.canvas=r,this.gl=null;try{if(this.gl=r.getContext("webgl")||r.getContext("experimental-webgl"),!this.gl)throw new e.DikenWeb.WebGLNotSupportedError}catch(r){const t="DikenWeb: WebGL başlatılamadı.\nSebep: "+r.message;throw console.error(t,r),e.DikenWeb.Core.showErrorMessage(t),new e.DikenWeb.DikenWebError(t,"WEBGL_INIT_FAILED")}this.renderer=null,this.currentScene=null,this.isRunning=!1,this.lastTime=0}static showErrorMessage(e){const r=document.querySelector(".dikenweb-error");if(r)return void(r.innerText=e);const t=document.createElement("div");t.className="dikenweb-error",t.style.cssText="\n        position: absolute;\n        top: 20px;\n        left: 20px;\n        background: #ff4444;\n        color: white;\n        padding: 15px;\n        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        z-index: 9999;\n        border-radius: 8px;\n        box-shadow: 0 4px 8px rgba(0,0,0,0.3);\n        max-width: 80%;\n        word-break: break-word;\n        border-left: 4px solid #ff0000;\n      ",t.innerHTML=`\n        <strong>🌵 DikenWeb Hatası</strong><br>\n        <small>${e}</small>\n      `,document.body.appendChild(t)}init(){try{this.renderer=new e.DikenWeb.Renderer(this.gl),this.renderer.init(),console.log("✅ DikenWeb başlatıldı")}catch(r){const t="DikenWeb: Renderer başlatılamadı.\nSebep: "+r.message;throw console.error(t,r),e.DikenWeb.Core.showErrorMessage(t),new e.DikenWeb.DikenWebError(t,"RENDERER_INIT_FAILED")}}start(){if(!this.isRunning)try{this.isRunning=!0,this.lastTime=performance.now(),this.loop(),console.log("▶️ DikenWeb çalışıyor")}catch(r){const t="DikenWeb: Motor başlatılamadı.\nSebep: "+r.message;throw console.error(t,r),e.DikenWeb.Core.showErrorMessage(t),this.isRunning=!1,new e.DikenWeb.DikenWebError(t,"ENGINE_START_FAILED")}}stop(){this.isRunning=!1,console.log("⏹️ DikenWeb durduruldu")}loop(){if(!this.isRunning)return;const e=performance.now(),r=(e-this.lastTime)/1e3;this.lastTime=e,r>.1&&console.warn(`Büyük delta time: ${r.toFixed(3)}s`);try{this.update(r),this.render()}catch(e){console.error("DikenWeb loop hatası:",e)}requestAnimationFrame(this.loop.bind(this))}update(e){"number"==typeof e?this.currentScene&&this.currentScene.update(e):console.warn("Geçersiz deltaTime:",e)}render(){if(this.renderer&&this.currentScene)try{this.renderer.clear(),this.currentScene.render(this.renderer)}catch(r){throw console.error("Render hatası:",r),new e.DikenWeb.DikenWebError("Render işlemi başarısız: "+r.message,"RENDER_FAILED")}}loadScene(r){if(!r)throw new e.DikenWeb.DikenWebError("Sahne nesnesi gereklidir","SCENE_REQUIRED");this.currentScene=r,console.log("📂 Sahne yüklendi")}}}("undefined"!=typeof window?window:global),function(e){e.DikenWeb=e.DikenWeb||{},e.DikenWeb.DikenWebError||(e.DikenWeb.DikenWebError=class extends Error{constructor(e,r="DIKENWEB_ERROR"){super(e),this.name="DikenWebError",this.code=r}}),e.DikenWeb.RendererError=class extends e.DikenWeb.DikenWebError{constructor(e,r="RENDERER_ERROR"){super(e,r),this.name="RendererError"}},e.DikenWeb.ShaderCompileError=class extends e.DikenWeb.RendererError{constructor(e,r){super(`${e} shader derleme hatası: ${r}`,"SHADER_COMPILE_ERROR"),this.shaderType=e,this.info=r}},e.DikenWeb.ShaderLinkError=class extends e.DikenWeb.RendererError{constructor(e){super(`Shader program bağlama hatası: ${e}`,"SHADER_LINK_ERROR"),this.info=e}},e.DikenWeb.Renderer=class{constructor(r){if(!r)throw new e.DikenWeb.RendererError("WebGL context gereklidir","GL_CONTEXT_REQUIRED");this.gl=r,this.defaultShader=null,this.currentShader=null}init(){try{const e="\n          attribute vec3 a_position;\n          uniform mat4 u_mvpMatrix;\n          void main() {\n            gl_Position = u_mvpMatrix * vec4(a_position, 1.0);\n          }\n        ",r="\n          precision mediump float;\n          uniform vec3 u_color;\n          void main() {\n            gl_FragColor = vec4(u_color, 1.0);\n          }\n        ";this.defaultShader=this.createShaderProgram(e,r),this.currentShader=this.defaultShader,this.gl.enable(this.gl.DEPTH_TEST),this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(this.gl.BACK),console.log("✅ Renderer başlatıldı")}catch(r){throw new e.DikenWeb.RendererError(`Renderer başlatma hatası: ${r.message}`,"RENDERER_INIT_FAILED")}}createShaderProgram(r,t){if("string"!=typeof r||"string"!=typeof t)throw new e.DikenWeb.RendererError("Shader kaynak kodları string olmalıdır","INVALID_SHADER_SOURCE");try{const n=this.compileShader(this.gl.VERTEX_SHADER,r),i=this.compileShader(this.gl.FRAGMENT_SHADER,t),o=this.gl.createProgram();if(this.gl.attachShader(o,n),this.gl.attachShader(o,i),this.gl.linkProgram(o),!this.gl.getProgramParameter(o,this.gl.LINK_STATUS)){const r=this.gl.getProgramInfoLog(o);throw new e.DikenWeb.ShaderLinkError(r)}return o}catch(r){if(r instanceof e.DikenWeb.ShaderLinkError||r instanceof e.DikenWeb.ShaderCompileError)throw r;throw new e.DikenWeb.RendererError(`Shader program oluşturma hatası: ${r.message}`,"SHADER_PROGRAM_FAILED")}}compileShader(r,t){if("string"!=typeof t)throw new e.DikenWeb.RendererError("Shader kaynak kodu string olmalıdır","INVALID_SHADER_SOURCE");try{const n=this.gl.createShader(r);if(this.gl.shaderSource(n,t),this.gl.compileShader(n),!this.gl.getShaderParameter(n,this.gl.COMPILE_STATUS)){const t=this.gl.getShaderInfoLog(n),i=r===this.gl.VERTEX_SHADER?"Vertex":"Fragment";throw new e.DikenWeb.ShaderCompileError(i,t)}return n}catch(r){if(r instanceof e.DikenWeb.ShaderCompileError)throw r;throw new e.DikenWeb.RendererError(`Shader derleme hatası: ${r.message}`,"SHADER_COMPILE_FAILED")}}useShader(r){if(!r)throw new e.DikenWeb.RendererError("Shader programı gereklidir","SHADER_PROGRAM_REQUIRED");this.currentShader=r,this.gl.useProgram(r)}clear(r=.1,t=.1,n=.1,i=1){if("number"!=typeof r||"number"!=typeof t||"number"!=typeof n||"number"!=typeof i)throw new e.DikenWeb.RendererError("Renk parametreleri sayı olmalıdır","INVALID_COLOR_PARAMS");this.gl.clearColor(r,t,n,i),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}setViewport(r,t){if("number"!=typeof r||"number"!=typeof t)throw new e.DikenWeb.RendererError("Viewport boyutları sayı olmalıdır","INVALID_VIEWPORT_SIZE");this.gl.viewport(0,0,r,t)}enableDepthTest(e=!0){e?this.gl.enable(this.gl.DEPTH_TEST):this.gl.disable(this.gl.DEPTH_TEST)}enableCulling(e=!0){e?this.gl.enable(this.gl.CULL_FACE):this.gl.disable(this.gl.CULL_FACE)}}}("undefined"!=typeof window?window:global),window.DikenWeb=window.DikenWeb||{},window.DikenWeb.MathError=class extends window.DikenWeb.DikenWebError{constructor(e,r="MATH_ERROR"){super(e,r),this.name="MathError"}},window.DikenWeb.Vector2=class{constructor(e=0,r=0){if("number"!=typeof e||"number"!=typeof r)throw new window.DikenWeb.MathError("Vector2 parametreleri sayı olmalıdır","INVALID_VECTOR2_PARAMS");this.x=e,this.y=r}static get zero(){return new window.DikenWeb.Vector2(0,0)}static get one(){return new window.DikenWeb.Vector2(1,1)}static get up(){return new window.DikenWeb.Vector2(0,1)}static get down(){return new window.DikenWeb.Vector2(0,-1)}static get left(){return new window.DikenWeb.Vector2(-1,0)}static get right(){return new window.DikenWeb.Vector2(1,0)}add(e){if(!(e instanceof window.DikenWeb.Vector2))throw new window.DikenWeb.MathError("Parametre Vector2 tipinde olmalıdır","INVALID_VECTOR2_PARAM");return new window.DikenWeb.Vector2(this.x+e.x,this.y+e.y)}subtract(e){if(!(e instanceof window.DikenWeb.Vector2))throw new window.DikenWeb.MathError("Parametre Vector2 tipinde olmalıdır","INVALID_VECTOR2_PARAM");return new window.DikenWeb.Vector2(this.x-e.x,this.y-e.y)}multiply(e){if("number"!=typeof e)throw new window.DikenWeb.MathError("Skalar parametresi sayı olmalıdır","INVALID_SCALAR_PARAM");return new window.DikenWeb.Vector2(this.x*e,this.y*e)}divide(e){if("number"!=typeof e)throw new window.DikenWeb.MathError("Skalar parametresi sayı olmalıdır","INVALID_SCALAR_PARAM");if(0===e)throw new window.DikenWeb.MathError("Sıfıra bölme hatası","DIVISION_BY_ZERO");return new window.DikenWeb.Vector2(this.x/e,this.y/e)}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}lengthSquared(){return this.x*this.x+this.y*this.y}normalize(){const e=this.length();return 0===e?(console.warn("Sıfır vektörü normalize edilemez"),new window.DikenWeb.Vector2(0,0)):new window.DikenWeb.Vector2(this.x/e,this.y/e)}dot(e){if(!(e instanceof window.DikenWeb.Vector2))throw new window.DikenWeb.MathError("Parametre Vector2 tipinde olmalıdır","INVALID_VECTOR2_PARAM");return this.x*e.x+this.y*e.y}distance(e){if(!(e instanceof window.DikenWeb.Vector2))throw new window.DikenWeb.MathError("Parametre Vector2 tipinde olmalıdır","INVALID_VECTOR2_PARAM");return this.subtract(e).length()}clone(){return new window.DikenWeb.Vector2(this.x,this.y)}toString(){return`Vector2(${this.x}, ${this.y})`}},window.DikenWeb.Vector3=class{constructor(e=0,r=0,t=0){if("number"!=typeof e||"number"!=typeof r||"number"!=typeof t)throw new window.DikenWeb.MathError("Vector3 parametreleri sayı olmalıdır","INVALID_VECTOR3_PARAMS");this.x=e,this.y=r,this.z=t}static get zero(){return new window.DikenWeb.Vector3(0,0,0)}static get one(){return new window.DikenWeb.Vector3(1,1,1)}static get up(){return new window.DikenWeb.Vector3(0,1,0)}static get down(){return new window.DikenWeb.Vector3(0,-1,0)}static get left(){return new window.DikenWeb.Vector3(-1,0,0)}static get right(){return new window.DikenWeb.Vector3(1,0,0)}static get forward(){return new window.DikenWeb.Vector3(0,0,1)}static get back(){return new window.DikenWeb.Vector3(0,0,-1)}add(e){if(!(e instanceof window.DikenWeb.Vector3))throw new window.DikenWeb.MathError("Parametre Vector3 tipinde olmalıdır","INVALID_VECTOR3_PARAM");return new window.DikenWeb.Vector3(this.x+e.x,this.y+e.y,this.z+e.z)}subtract(e){if(!(e instanceof window.DikenWeb.Vector3))throw new window.DikenWeb.MathError("Parametre Vector3 tipinde olmalıdır","INVALID_VECTOR3_PARAM");return new window.DikenWeb.Vector3(this.x-e.x,this.y-e.y,this.z-e.z)}multiply(e){if("number"!=typeof e)throw new window.DikenWeb.MathError("Skalar parametresi sayı olmalıdır","INVALID_SCALAR_PARAM");return new window.DikenWeb.Vector3(this.x*e,this.y*e,this.z*e)}divide(e){if("number"!=typeof e)throw new window.DikenWeb.MathError("Skalar parametresi sayı olmalıdır","INVALID_SCALAR_PARAM");if(0===e)throw new window.DikenWeb.MathError("Sıfıra bölme hatası","DIVISION_BY_ZERO");return new window.DikenWeb.Vector3(this.x/e,this.y/e,this.z/e)}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}lengthSquared(){return this.x*this.x+this.y*this.y+this.z*this.z}normalize(){const e=this.length();return 0===e?(console.warn("Sıfır vektörü normalize edilemez"),new window.DikenWeb.Vector3(0,0,0)):new window.DikenWeb.Vector3(this.x/e,this.y/e,this.z/e)}dot(e){if(!(e instanceof window.DikenWeb.Vector3))throw new window.DikenWeb.MathError("Parametre Vector3 tipinde olmalıdır","INVALID_VECTOR3_PARAM");return this.x*e.x+this.y*e.y+this.z*e.z}cross(e){if(!(e instanceof window.DikenWeb.Vector3))throw new window.DikenWeb.MathError("Parametre Vector3 tipinde olmalıdır","INVALID_VECTOR3_PARAM");return new window.DikenWeb.Vector3(this.y*e.z-this.z*e.y,this.z*e.x-this.x*e.z,this.x*e.y-this.y*e.x)}distance(e){if(!(e instanceof window.DikenWeb.Vector3))throw new window.DikenWeb.MathError("Parametre Vector3 tipinde olmalıdır","INVALID_VECTOR3_PARAM");return this.subtract(e).length()}clone(){return new window.DikenWeb.Vector3(this.x,this.y,this.z)}toString(){return`Vector3(${this.x}, ${this.y}, ${this.z})`}},window.DikenWeb.Matrix4=class{constructor(){this.elements=new Float32Array(16),this.identity()}identity(){const e=this.elements;return e[0]=1,e[4]=0,e[8]=0,e[12]=0,e[1]=0,e[5]=1,e[9]=0,e[13]=0,e[2]=0,e[6]=0,e[10]=1,e[14]=0,e[3]=0,e[7]=0,e[11]=0,e[15]=1,this}static perspective(e,r,t,n){const i=new window.DikenWeb.Matrix4,o=1/Math.tan(e/2),s=i.elements;return s[0]=o/r,s[5]=o,s[10]=(n+t)/(t-n),s[11]=-1,s[14]=2*n*t/(t-n),s[15]=0,i}static orthographic(e,r,t,n,i,o){const s=new window.DikenWeb.Matrix4,a=s.elements;return a[0]=2/(r-e),a[5]=2/(n-t),a[10]=-2/(o-i),a[12]=-(r+e)/(r-e),a[13]=-(n+t)/(n-t),a[14]=-(o+i)/(o-i),a[15]=1,s}static lookAt(e,r,t){const n=new window.DikenWeb.Matrix4,i=e.subtract(r).normalize(),o=t.cross(i).normalize(),s=i.cross(o),a=n.elements;return a[0]=o.x,a[4]=o.y,a[8]=o.z,a[12]=-o.dot(e),a[1]=s.x,a[5]=s.y,a[9]=s.z,a[13]=-s.dot(e),a[2]=i.x,a[6]=i.y,a[10]=i.z,a[14]=-i.dot(e),a[3]=0,a[7]=0,a[11]=0,a[15]=1,n}multiply(e){if(!(e instanceof window.DikenWeb.Matrix4))throw new window.DikenWeb.MathError("Parametre Matrix4 tipinde olmalıdır","INVALID_MATRIX_PARAM");const r=new window.DikenWeb.Matrix4,t=this.elements,n=e.elements,i=r.elements;for(let e=0;e<4;e++)for(let r=0;r<4;r++)i[4*e+r]=t[4*e+0]*n[0+r]+t[4*e+1]*n[4+r]+t[4*e+2]*n[8+r]+t[4*e+3]*n[12+r];return r}translate(e,r,t){if("number"!=typeof e||"number"!=typeof r||"number"!=typeof t)throw new window.DikenWeb.MathError("Öteleme parametreleri sayı olmalıdır","INVALID_TRANSLATE_PARAMS");const n=this.elements;return n[12]=n[0]*e+n[4]*r+n[8]*t+n[12],n[13]=n[1]*e+n[5]*r+n[9]*t+n[13],n[14]=n[2]*e+n[6]*r+n[10]*t+n[14],n[15]=n[3]*e+n[7]*r+n[11]*t+n[15],this}scale(e,r,t){if("number"!=typeof e||"number"!=typeof r||"number"!=typeof t)throw new window.DikenWeb.MathError("Ölçek parametreleri sayı olmalıdır","INVALID_SCALE_PARAMS");const n=this.elements;return n[0]*=e,n[4]*=r,n[8]*=t,n[1]*=e,n[5]*=r,n[9]*=t,n[2]*=e,n[6]*=r,n[10]*=t,n[3]*=e,n[7]*=r,n[11]*=t,this}rotateX(e){const r=Math.cos(e),t=Math.sin(e),n=this.elements,i=n[4],o=n[5],s=n[6],a=n[7],h=n[8],c=n[9],d=n[10],l=n[11];return n[4]=i*r+h*t,n[5]=o*r+c*t,n[6]=s*r+d*t,n[7]=a*r+l*t,n[8]=h*r-i*t,n[9]=c*r-o*t,n[10]=d*r-s*t,n[11]=l*r-a*t,this}rotateY(e){const r=Math.cos(e),t=Math.sin(e),n=this.elements,i=n[0],o=n[1],s=n[2],a=n[3],h=n[8],c=n[9],d=n[10],l=n[11];return n[0]=i*r-h*t,n[1]=o*r-c*t,n[2]=s*r-d*t,n[3]=a*r-l*t,n[8]=i*t+h*r,n[9]=o*t+c*r,n[10]=s*t+d*r,n[11]=a*t+l*r,this}rotateZ(e){const r=Math.cos(e),t=Math.sin(e),n=this.elements,i=n[0],o=n[1],s=n[2],a=n[3],h=n[4],c=n[5],d=n[6],l=n[7];return n[0]=i*r+h*t,n[1]=o*r+c*t,n[2]=s*r+d*t,n[3]=a*r+l*t,n[4]=h*r-i*t,n[5]=c*r-o*t,n[6]=d*r-s*t,n[7]=l*r-a*t,this}clone(){const e=new window.DikenWeb.Matrix4;return e.elements.set(this.elements),e}toString(){const e=this.elements;return`Matrix4[\n  ${e[0].toFixed(2)}, ${e[4].toFixed(2)}, ${e[8].toFixed(2)}, ${e[12].toFixed(2)}\n  ${e[1].toFixed(2)}, ${e[5].toFixed(2)}, ${e[9].toFixed(2)}, ${e[13].toFixed(2)}\n  ${e[2].toFixed(2)}, ${e[6].toFixed(2)}, ${e[10].toFixed(2)}, ${e[14].toFixed(2)}\n  ${e[3].toFixed(2)}, ${e[7].toFixed(2)}, ${e[11].toFixed(2)}, ${e[15].toFixed(2)}\n]`}},window.DikenWeb=window.DikenWeb||{},window.DikenWeb.CameraError=class extends window.DikenWeb.DikenWebError{constructor(e,r="CAMERA_ERROR"){super(e,r),this.name="CameraError"}},window.DikenWeb.Camera=class extends window.DikenWeb.Component{constructor(){super(),this.fov=45,this.aspect=1,this.near=.1,this.far=1e3,this.projectionMatrix=new window.DikenWeb.Matrix4,this.viewMatrix=new window.DikenWeb.Matrix4,this._dirty=!0}awake(){this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.fov*Math.PI/180;this.projectionMatrix=window.DikenWeb.Matrix4.perspective(e,this.aspect,this.near,this.far),this._dirty=!1}updateViewMatrix(){if(this.gameObject){const e=this.gameObject.transform.position,r=e.add(new window.DikenWeb.Vector3(0,0,-1)),t=new window.DikenWeb.Vector3(0,1,0);this.viewMatrix=window.DikenWeb.Matrix4.lookAt(e,r,t)}}setPerspective(e,r,t,n){if("number"!=typeof e||"number"!=typeof r||"number"!=typeof t||"number"!=typeof n)throw new window.DikenWeb.CameraError("Kamera parametreleri sayı olmalıdır","INVALID_CAMERA_PARAMS");this.fov=e,this.aspect=r,this.near=t,this.far=n,this.updateProjectionMatrix()}getMVPMatrix(e){if(!(e instanceof window.DikenWeb.Matrix4))throw new window.DikenWeb.CameraError("Model matrix Matrix4 tipinde olmalıdır","INVALID_MATRIX_PARAM");return this.updateViewMatrix(),this.projectionMatrix.multiply(this.viewMatrix).multiply(e)}render(e){}},window.DikenWeb=window.DikenWeb||{},window.DikenWeb.ObjectError=class extends window.DikenWeb.DikenWebError{constructor(e,r="OBJECT_ERROR"){super(e,r),this.name="ObjectError"}},window.DikenWeb.Component=class{constructor(){this.enabled=!0,this.gameObject=null}awake(){}start(){}update(e){"number"!=typeof e&&console.warn("Component.update: deltaTime parametresi sayı olmalıdır")}render(e){e||console.warn("Component.render: renderer parametresi gereklidir")}onDestroy(){}},window.DikenWeb.Transform=class{constructor(){this.position=new window.DikenWeb.Vector3(0,0,0),this.rotation=new window.DikenWeb.Vector3(0,0,0),this.scale=new window.DikenWeb.Vector3(1,1,1),this.parent=null,this._localMatrix=new window.DikenWeb.Matrix4,this._worldMatrix=new window.DikenWeb.Matrix4,this._dirty=!0}get localMatrix(){return this._dirty&&(this._localMatrix.identity(),this._localMatrix.translate(this.position.x,this.position.y,this.position.z).rotateX(this.rotation.x).rotateY(this.rotation.y).rotateZ(this.rotation.z).scale(this.scale.x,this.scale.y,this.scale.z),this._dirty=!1),this._localMatrix}get worldMatrix(){return this.parent?this.parent.worldMatrix.multiply(this.localMatrix):this.localMatrix}translate(e,r,t){if("number"!=typeof e||"number"!=typeof r||"number"!=typeof t)throw new window.DikenWeb.ObjectError("Öteleme parametreleri sayı olmalıdır","INVALID_TRANSLATE_PARAMS");this.position.x+=e,this.position.y+=r,this.position.z+=t,this._dirty=!0}rotate(e,r,t){if("number"!=typeof e||"number"!=typeof r||"number"!=typeof t)throw new window.DikenWeb.ObjectError("Rotasyon parametreleri sayı olmalıdır","INVALID_ROTATE_PARAMS");this.rotation.x+=e,this.rotation.y+=r,this.rotation.z+=t,this._dirty=!0}setParent(e){if(e&&!(e instanceof window.DikenWeb.GameObject))throw new window.DikenWeb.ObjectError("Parent GameObject tipinde olmalıdır","INVALID_PARENT_TYPE");this.parent=e}},window.DikenWeb.GameObject=class{constructor(e="GameObject"){if("string"!=typeof e)throw new window.DikenWeb.ObjectError("GameObject adı string olmalıdır","INVALID_NAME_TYPE");this.name=e,this.transform=new window.DikenWeb.Transform,this.components=[],this.children=[],this.parent=null,this.active=!0,this.engine=null}addComponent(e){if(!(e instanceof window.DikenWeb.Component))throw new window.DikenWeb.ObjectError("Component tipinde olmayan nesne eklenemez","INVALID_COMPONENT_TYPE");e.gameObject=this,this.components.push(e);try{e.awake&&e.awake()}catch(e){console.error(`Component.awake hatası (${this.name}):`,e)}return e}getComponent(e){if("function"!=typeof e)throw new window.DikenWeb.ObjectError("Component tipi fonksiyon olmalıdır","INVALID_COMPONENT_TYPE");return this.components.find(r=>r instanceof e)}getComponents(e){if("function"!=typeof e)throw new window.DikenWeb.ObjectError("Component tipi fonksiyon olmalıdır","INVALID_COMPONENT_TYPE");return this.components.filter(r=>r instanceof e)}removeComponent(e){const r=this.components.indexOf(e);if(-1!==r){try{e.onDestroy&&e.onDestroy()}catch(e){console.error(`Component.onDestroy hatası (${this.name}):`,e)}this.components.splice(r,1),e.gameObject=null}}addChild(e){if(!(e instanceof window.DikenWeb.GameObject))throw new window.DikenWeb.ObjectError("Alt nesne GameObject tipinde olmalıdır","INVALID_CHILD_TYPE");e.parent=this,e.transform.setParent(this),this.children.push(e)}removeChild(e){const r=this.children.indexOf(e);-1!==r&&(this.children.splice(r,1),e.parent=null,e.transform.setParent(null))}setActive(e){if("boolean"!=typeof e)throw new window.DikenWeb.ObjectError("Active parametresi boolean olmalıdır","INVALID_ACTIVE_PARAM");this.active=e}update(e){if("number"==typeof e){if(this.active){for(let r of this.components)if(r.enabled&&r.update)try{r.update(e)}catch(e){console.error(`Component update hatası (${this.name}.${r.constructor.name}):`,e)}for(let r of this.children)try{r.update(e)}catch(e){console.error(`Child update hatası (${r.name}):`,e)}}}else console.warn("GameObject.update: deltaTime parametresi sayı olmalıdır")}render(e){if(e){if(this.active){for(let r of this.components)if(r.enabled&&r.render)try{r.render(e)}catch(e){console.error(`Component render hatası (${this.name}.${r.constructor.name}):`,e)}for(let r of this.children)try{r.render(e)}catch(e){console.error(`Child render hatası (${r.name}):`,e)}}}else console.warn("GameObject.render: renderer parametresi gereklidir")}destroy(){for(let e of this.components)try{e.onDestroy&&e.onDestroy()}catch(e){console.error(`Component onDestroy hatası (${this.name}):`,e)}for(let e of this.children)try{e.destroy()}catch(r){console.error(`Child destroy hatası (${e.name}):`,r)}this.parent&&this.parent.removeChild(this),this.components=[],this.children=[]}},window.DikenWeb=window.DikenWeb||{},window.DikenWeb.ComponentError=class extends window.DikenWeb.DikenWebError{constructor(e,r="COMPONENT_ERROR"){super(e,r),this.name="ComponentError"}},window.DikenWeb.MeshRenderer=class extends window.DikenWeb.Component{constructor(){super(),this.vertices=[],this.color=[1,1,1],this.vertexBuffer=null}awake(){if(this.gameObject&&this.gameObject.engine&&this.gameObject.engine.gl)try{this.createBuffer(this.gameObject.engine.gl)}catch(e){console.error("MeshRenderer buffer oluşturma hatası:",e)}}createBuffer(e){if(!e)throw new window.DikenWeb.ComponentError("WebGL context gereklidir","GL_CONTEXT_REQUIRED");if(!Array.isArray(this.vertices))throw new window.DikenWeb.ComponentError("Vertices array olmalıdır","INVALID_VERTICES_TYPE");this.vertexBuffer&&e.deleteBuffer(this.vertexBuffer),this.vertexBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(this.vertices),e.STATIC_DRAW)}setColor(e,r,t){if("number"!=typeof e||"number"!=typeof r||"number"!=typeof t)throw new window.DikenWeb.ComponentError("Renk parametreleri sayı olmalıdır","INVALID_COLOR_PARAMS");this.color=[e,r,t]}render(e){if(e){if(this.vertexBuffer&&0!==this.vertices.length)try{const r=e.gl,t=e.currentShader||e.defaultShader;if(!t)return void console.warn("MeshRenderer: Shader programı bulunamadı");r.useProgram(t);const n=r.getAttribLocation(t,"a_position"),i=r.getUniformLocation(t,"u_color"),o=r.getUniformLocation(t,"u_mvpMatrix");if(-1===n)return void console.warn("MeshRenderer: a_position attribute bulunamadı");r.bindBuffer(r.ARRAY_BUFFER,this.vertexBuffer),r.enableVertexAttribArray(n),r.vertexAttribPointer(n,3,r.FLOAT,!1,0,0),i&&r.uniform3fv(i,this.color);const s=this.gameObject.transform.worldMatrix;o&&r.uniformMatrix4fv(o,!1,s.elements),r.drawArrays(r.TRIANGLES,0,this.vertices.length/3)}catch(e){console.error("MeshRenderer render hatası:",e)}}else console.warn("MeshRenderer: renderer parametresi gereklidir")}onDestroy(){this.vertexBuffer&&this.gameObject&&this.gameObject.engine&&this.gameObject.engine.gl&&(this.gameObject.engine.gl.deleteBuffer(this.vertexBuffer),this.vertexBuffer=null)}},window.DikenWeb.CubeRenderer=class extends window.DikenWeb.MeshRenderer{constructor(){super(),this.vertices=[-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5,.5,.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5]}},window.DikenWeb.Script=class extends window.DikenWeb.Component{constructor(){super(),this.properties={}}};class SceneError extends Error{constructor(e,r="SCENE_ERROR"){super(e),this.name="SceneError",this.code=r}}class Scene{constructor(e="Scene"){if("string"!=typeof e)throw new SceneError("Sahne adı string olmalıdır","INVALID_SCENE_NAME");this.name=e,this.root=new GameObject("SceneRoot"),this.mainCamera=null}update(e){if("number"==typeof e)try{this.root.update(e)}catch(e){console.error(`Scene update hatası (${this.name}):`,e)}else console.warn("Scene.update: deltaTime parametresi sayı olmalıdır")}render(e){if(e)try{this.root.render(e)}catch(e){console.error(`Scene render hatası (${this.name}):`,e)}else console.warn("Scene.render: renderer parametresi gereklidir")}addGameObject(e){if(!(e instanceof GameObject))throw new SceneError("GameObject tipinde olmayan nesne eklenemez","INVALID_GAMEOBJECT_TYPE");this.root.addChild(e)}removeGameObject(e){if(!(e instanceof GameObject))throw new SceneError("GameObject tipinde olmayan nesne kaldırılamaz","INVALID_GAMEOBJECT_TYPE");this.root.removeChild(e)}findGameObjectWithTag(e){const r=t=>{if(t.tag===e)return t;for(let e of t.children){const t=r(e);if(t)return t}return null};return r(this.root)}findGameObjectsWithTag(e){const r=[],t=n=>{n.tag===e&&r.push(n);for(let e of n.children)t(e)};return t(this.root),r}setMainCamera(e){if(!(e instanceof Camera))throw new SceneError("Kamera Camera tipinde olmalıdır","INVALID_CAMERA_TYPE");this.mainCamera=e}destroy(){try{this.root.destroy()}catch(e){console.error(`Scene destroy hatası (${this.name}):`,e)}}}